<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <meta name="description" content="">
    <meta name="author" content="https://github.com/Mikadily/poloniexlendingbot">
    <link rel="SHORTCUT ICON" href="images/icon.ico">
    <link rel="icon" href="images/icon32.png" sizes="32x32"/>
    <link rel="icon" href="images/icon48.png" sizes="48x48"/>
    <!-- Android Add To Home Settings -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="images/icon192.png" sizes="192x192" type="image/png">
    <link rel="icon" href="images/icon384.png" sizes="384x384" type="image/png">
    <meta id="theme-color" name="theme-color" content="#e7e7e7">
    <meta name="mobile-web-app-capable" content="yes">
    <!-- iOS Add To Home Settings -->
    <link rel="apple-touch-icon" href="images/icon192.png">
    <link rel="apple-touch-startup-image" href="images/ios_splash.png">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <title>Poloniex Lending Bot</title>
   
    <!-- Bootstrap 4.0.0 -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- toastr -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">

    <!-- Roboto-Condensed Font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet"> 
    
    <!-- Cryptocoin Font -->
    <link href="css/cryptocoins.css" rel="stylesheet">
    <link href="css/cryptocoins-colors.css" rel="stylesheet">
        
    <!-- Font-Awesome 4.7.0 -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Bootstrap-Switch -->
    <link href="css/bootstrap-switch.min.css" rel="stylesheet">
    
    <!-- dataTables 1.10.15 & responsive 2.1.1 -->
    <link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap4.min.css" rel="stylesheet"></style>
    <link href="https://cdn.datatables.net/responsive/2.1.1/css/responsive.dataTables.min.css" rel="stylesheet"></style>
    
    <!-- Poloniex Lending Bot CSS Rules -->
    <link href="css/polobot.css" rel="stylesheet"></style>

</head>

<body class="container marginbottom">

<nav class="navbar navbar-toggleable-md navbar-light">
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand plb-tooltip updated" data-toggle="tooltip" title="" href="#"><img src="images/icon192.png" class="d-inline-block align-top lendingimage">Poloniex Lending Bot</a>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item home">
        <a class="nav-link" data-toggle="tab" href="#home">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item homegrid">
        <a class="nav-link" data-toggle="tab" href="#homegrid">Grid <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#oloans">Opened Loans <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#logtab">Log <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#settings">Settings <span class="sr-only">(current)</span></a>
      </li>
      <!--<li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#configuration">Configuration <span class="sr-only">(current)</span></a>
      </li>-->
      <li class="nav-item" id="file">
        <a class="nav-link" href="#" onclick="$('#input-file').trigger('click');">
             <i class="fa fa-file"></i>
                   Select log
        </a>
       <input type="file" id="input-file" name="file" onchange="handleLocalFile(this.files[0])" />
       </li>
    </ul>
  </div>
</nav>

<!-- Tab panes -->
<div class="tab-content">
  <div class="tab-pane active" id="home" role="tabpanel">
  <div class="loader" style="display:none"></div>
    <table class="table table-sm margintop" id="coinstatustable">
         <thead><th>Coin</th><th>Balance</th><th class="displayCurrency">Balance $</th><th>Interest 24h</th><th>Interest Total</th><th class="displayCurrency">Interest $</th></thead> <tbody>
          </tbody>
    </table>
    
 <div class="row justify-content-md-center margintop">
  <div class="col">
    <table class="table table-sm" id="cointable">
       <thead><th>Coin</th><th>Ã˜ Rate</th></thead>
       <tbody></tbody>
    </table>
  </div>
  <div class="col col-md-auto">
   <div class="chart-container chartstyle">
    <h4 style="text-align:center">Coins</h4>
    <canvas id="capitalChart"></canvas>
   </div>
  </div>
  <div class="col col-md-auto">
   <div class="chart-container" style="width:300px;height:400px">
    <h4 style="text-align:center">Interest</h4>
    <canvas id="interestChart"></canvas>
   </div>
  </div>
  <div class="w-100"></div>
  <div class="col justify-content-md-center">
     <table class="table" style="margin-bottom:50px" id="detailsTable" ></table>
  </div>
 </div>
    
  </div>
  <div class="tab-pane" id="homegrid" role="tabpanel">
  <div class="loader" style="display:none"></div>
    <div class="card-deck">
     
     <div class="card text-center">
        <div class="card-block">
           <h4 class="card-title" id="totalcash"></h4>
           <p class="card-text marginzero">Amount</p>
        </div>
     </div>
     
     <div class="card text-center">
        <div class="card-block">
           <h4 class="card-title" id="totalinterest"></h4>
           <p class="card-text marginzero">Interest 24h / Total</p>
        </div>
     </div>
     
    </div>
     
     <div class="card-columns cardoverview">
      <div class="card text-center " id="cardtemplate" style="display:none">
       <i class="cc cardicon"></i>
       <div class="card-block">
        <h4 class="card-title coinname"></h4>
        <p class="card-text cardcoinlent marginzero"></p>
        <p class="card-text cardcointotal marginzero"></p>
        <p class="card-text cardearned marginzero"><i class="cc"></i></p>
        
        <div class="collapse collapseid">     
         <table class="table table-sm coingriddetails margintop"></table>      
        </div>
        
       </div>
       <div class="card-footer">
        <small class="text-muted flex">
        <div class="row align-items-center">
           <div class="col collapseidhref"><a data-toggle="collapse" aria-expanded="false" aria-controls="collapseExample">Details</a></div>
            <div class="col"></div>
           <div class="col col-md-auto updatetime"></div>
        </div></small>
      </div>
     </div>
   </div>
  </div>
  
  <div class="tab-pane" id="oloans" role="tabpanel">
  <div class="loader" style="display:none"></div>
  <div class="card">
    <div class="card-header">Opened Loans</div>
    <div class="card-block">
       <table class="table margintop" width="100%" id="openloans">
          <thead><tr><th>Date</th><th>Coin</th><th>Amount</th><th>Duration</th><th>Interest</th></tr></thead>
          <tbody></tbody>
       </table>
  </div></div></div>
  
  <div class="tab-pane" id="logtab" role="tabpanel">
  <div class="loader" style="display:none"></div>
     <div class="card">
        <div class="card-header">
           <button class="btn btn-success marginbottom"  type="button">Success  <span class="badge" id="successnumber"></span></button>
           <button class="btn btn-danger marginbottom"   type="button">Error    <span class="badge" id="errornumber"></span></button>      
           <button class="btn btn-info marginbottom"     type="button">Canceled <span class="badge" id="cancelednumber"></span></button>
           <button class="btn infobutton marginbottom"   type="button">Info     <span class="badge" id="infonumber"></span></button>
           
        </div>
        <div class="card-block">
           <table class="table compact margintop" width="100%" id="logtable" cellspacing="0">
             <thead><tr><th>Type</th><th>Date</th><th>Message</th></tr></thead>
             <tbody></tbody>
           </table>
        </div>
      </div>
   </div>
  <div class="tab-pane" id="settings" role="tabpanel">
  <div class="card">
        <div class="card-header">Settings</div>
        <div class="card-block">
                    <form>
                    
                        <div class="form-group">
                            <label for="refresh_interval">Page Refresh interval (10-3600 seconds)</label>
                            <input type="number" class="form-control" id="refresh_interval" placeholder="(10-3600)">
                        </div>
                        
                        <div class="form-group">
                            <h5>Notification</h5>
                            
                            <label class="checkbox-inline">
                            <input class="switchradio" type="checkbox"  id="notificationOnUpdate"> On Update
                            </label>
                            
                            <label class="checkbox-inline">
                            <input class="switchradio" type="checkbox"  id="notificationOnError"> On Error
                            </label>
                            
                            <label class="checkbox-inline">
                            <input class="switchradio" type="checkbox"  id="notificationOnLoan"> On Loan
                            </label>
                            
                        </div>
                        
                        <div class="form-group">
                            <h5>Display Currency</h5>
                            <div class="dropdown">
                              <a class="btn btn-secondary dropdown-toggle" href="#" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></a>
                              <div class="dropdown-menu" id="currencydropdown" aria-labelledby="dropdownMenuLink">
                                 <a class="dropdown-item" href="#" data-value="1">BTC</a>
                              </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <h5>Date ranges to display earnings for</h5>
                            <label class="checkbox-inline">
                                <input checked class="switchradio" data-timespan="Hour" type="checkbox"> Hourly
                            </label>
                            <label class="checkbox-inline">
                                <input checked class="switchradio" data-timespan="Day" type="checkbox"> Daily
                            </label>
                            <label class="checkbox-inline">
                                <input checked class="switchradio" data-timespan="Week" type="checkbox"> Weekly
                            </label>
                            <label class="checkbox-inline">
                                <input checked class="switchradio" data-timespan="Month" type="checkbox"> Monthly
                            </label>
                            <label class="checkbox-inline">
                                <input checked class="switchradio" data-timespan="Year" type="checkbox"> Yearly
                            </label>
                        </div>

                        <div class="form-group">
                            <h5>Bitcoin Display Unit</h5>
                            <label class="radio-inline">
                                <input checked class="switchradio" data-radio-all-off="true" value="BTC" type="radio" name="btcDisplayUnit"> BTC
                            </label>
                            <label class="radio-inline">
                                <input class="switchradio" data-radio-all-off="true" value="mBTC" type="radio" name="btcDisplayUnit"> mBTC
                            </label>
                            <label class="radio-inline">
                                <input class="switchradio" data-radio-all-off="true" value="Bits" type="radio" name="btcDisplayUnit"> Bits
                            </label>
                            <label class="radio-inline">
                                <input class="switchradio" data-radio-all-off="true" value="Satoshi" type="radio" name="btcDisplayUnit"> Satoshi
                            </label>
                        </div>

                        <div class="form-group">
                            <h5>Which earnings are displayed in selected output currency</h5>
                            <label class="radio-inline">
                                <input class="switchradio" data-radio-all-off="true" value="all" type="radio" name="outputCurrencyDisplayMode"> All Coins
                            </label>
                            <label class="radio-inline">
                                <input class="switchradio" data-radio-all-off="true" value="summary" type="radio" name="outputCurrencyDisplayMode"> Only Summary
                            </label>
                        </div>

                        <div class="form-group">
                            <h5>Effective loan rates calculation</h5>
                            <p class="small">Effective rate can either take into consideration the actual amount actively lent OR consider only Poloniex 15% fee</p>
                            <label class="radio-inline">
                                <input class="switchradio" data-radio-all-off="true" value="lentperc" type="radio" name="effRateMode"> Fee and Effective Lent
                            </label>
                            <label class="radio-inline">
                                <input class="switchradio" data-radio-all-off="true" value="onlyfee" type="radio" name="effRateMode"> Fee Only
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <h5><a href="https://momentjs.com/docs/#/displaying/format/" target="_blank">Date Format</a></h5>
                            <input placeholder="YYYY-MM-DD h:mm:ss" type="text" id="dateformat">
                        </div>
                        
                        <div class="form-group">
                            <h5>Relative Dates</h5>
                            <input checked class="switchradio" type="checkbox" data-on-text="On" data-off-text="Off" id="relativedates">
                        </div>
                        <button type="button" class="btn btn-primary" onclick="doSave()">Save changes</button>
                    </form>
                </div>
  </div></div>
  <div class="tab-pane" id="configuration" role="tabpanel">
    <!-- http://poloniexlendingbot.readthedocs.io/en/latest/configuration.html -->
    <div class="card">
        <div class="card-header">Configuration</div>
        <div class="card-block">
        <p class="card-text marginzero"></p>
           sleeptimeactive
           sleeptimeinactive
           mindailyrate
           maxdailyrate
           spreadlend
           gapbottom
           gaptop
           xdaythreshold
           xdays
           transferableCurrencies
           minloansize
           KeepStuckOrders
           hideCoins
           endDate
           
           maxtolend
           maxpercenttolend
           maxtolendrate
           analyseCurrencies
           analyseMaxAge
           analyseUpdateInterval
           lendingStyle
           coincfg
           
           jsonfile
           jsonlogsize
           startWebServer
           customWebServerAddress
           outputCurrency
           plugins
           
           notify_new_loans
           notify_tx_coins
           notify_xday_threshold
           notify_summary_minutes
           notify_caught_exception
           
           email = True
email_login_address = me@gmail.com
email_login_password = secretPassword
email_smtp_server = smtp.gmail.com
email_smtp_port = 465
email_smtp_starttls = False
email_to_addresses = me@gmail.com,you@gmail.com

slack = True
slack_token = xoxp-46351793751-46348393136-47931965411-a8757952e4
slack_channels = #cryptocurrency,@someUser

telegram = True
telegram_bot_id = 281421543:AGGB1TqP7XqhxhT7VOty0Aml8DV_R6kimHw
telegram_chat_ids = 123456789,@cryptocurrency

pushbullet = True
pushbullet_token = l.2mDDvy4RRdzcQN9LEWSy22amS7u3LJZ1
pushbullet_deviceid = ujpah72o0sjAoRtnM0jb
        </div>
    </div>
  </div>
</div>
    
    <!-- jQuery Version 3.2.1 -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    
    <!-- dataTables 1.10.15 -->
    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js" type="text/javascript" ></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js" type="text/javascript" ></script>
    <script src="https://cdn.datatables.net/responsive/2.1.1/js/dataTables.responsive.min.js" type="text/javascript" ></script>
    
     <!-- Moment.js 2.18.1 -->
    <script src="https://momentjs.com/downloads/moment-with-locales.min.js"></script>
    
    <!-- Toastr -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    
    <!-- Chart.js 2.6.0 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
    
    <!-- Bootstrap v4 Tether 1.4.0 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    
    <!-- Bootstrap v4 -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
    
    <!-- Bootstrap-Switch -->
    <script src="js/bootstrap-switch.min.js"></script>
    
    <script src="lendingbot.js?version=2" ></script>
</body>

</html>
